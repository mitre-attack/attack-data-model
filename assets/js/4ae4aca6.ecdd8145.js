"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[192],{5506:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"contributing/tests","title":"Running and Writing Tests","description":"The ATT&CK Data Model uses Vitest for testing.","source":"@site/docs/contributing/tests.mdx","sourceDirName":"contributing","slug":"/contributing/tests","permalink":"/attack-data-model/docs/contributing/tests","draft":false,"unlisted":false,"editUrl":"https://github.com/mitre-attack/attack-data-model/tree/main/docusaurus/docs/contributing/tests.mdx","tags":[],"version":"current","lastUpdatedBy":"Sean Sica","lastUpdatedAt":1765223725000,"frontMatter":{},"sidebar":"documentationSidebar","previous":{"title":"Coding Style & Linting","permalink":"/attack-data-model/docs/contributing/coding-style"},"next":{"title":"Documentation","permalink":"/attack-data-model/docs/contributing/docs"}}');var i=n(4848),r=n(8453);const c={},a="Running and Writing Tests",o={},l=[{value:"Execute the full suite",id:"execute-the-full-suite",level:2},{value:"Watch mode",id:"watch-mode",level:2},{value:"Coverage",id:"coverage",level:2},{value:"Test helpers",id:"test-helpers",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"running-and-writing-tests",children:"Running and Writing Tests"})}),"\n",(0,i.jsxs)(t.p,{children:["The ATT&CK Data Model uses ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.a,{href:"https://vitest.dev/",children:"Vitest"})})," for testing."]}),"\n",(0,i.jsx)(t.h2,{id:"execute-the-full-suite",children:"Execute the full suite"}),"\n",(0,i.jsx)(t.p,{children:"Running the tests is straightforward enough:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"npm test\n"})}),"\n",(0,i.jsx)(t.h2,{id:"watch-mode",children:"Watch mode"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"npm run test:interactive\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Vitest is configured in ",(0,i.jsx)(t.code,{children:"vitest.config.ts"})," with:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Node environment"}),"\n",(0,i.jsxs)(t.li,{children:["Global ",(0,i.jsx)(t.code,{children:"describe/it/expect"})]}),"\n",(0,i.jsxs)(t.li,{children:["Path alias ",(0,i.jsx)(t.code,{children:"@"})," \u2192 ",(0,i.jsx)(t.code,{children:"./src"})]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"coverage",children:"Coverage"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"npm run test:coverage\n"})}),"\n",(0,i.jsx)(t.p,{children:"Coverage reports are not required for PRs but strongly encouraged for new functionality."}),"\n",(0,i.jsx)(t.h2,{id:"test-helpers",children:"Test helpers"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"test/vitest.setup.ts"})," \u2013 global test framework setup"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"When adding new schemas or refinement logic:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Write ",(0,i.jsx)(t.strong,{children:"positive"})," test cases (",(0,i.jsx)(t.code,{children:"schema.parse"})," passes)"]}),"\n",(0,i.jsxs)(t.li,{children:["Write ",(0,i.jsx)(t.strong,{children:"negative"})," test cases that assert specific error messages"]}),"\n"]}),"\n",(0,i.jsx)(t.hr,{})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>a});var s=n(6540);const i={},r=s.createContext(i);function c(e){const t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);